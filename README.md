# Flexera CCO Demo Data

This repository contains fictional demo data, and demo policy templates, to use in the Flexera One platform. The purpose is to enable the demonstration of the platform's functionality without the need to unnecessarily pay for a large number of cloud assets to produce *real* optimization recommendations.

The `main` branch should only be used for updating the contents of the "scripts" directory and the "lists/template_list.json" file. The `demo_data` branch is what actually contains up to date demo data and fictional policy templates.

## Accessing Demo Policy Templates

Switch to the `demo_data` branch and navigate to the "templates" directory (or [click this link](https://github.com/flexera-public/cco_demo/tree/demo_data/templates) as a shortcut). There you will find the most up to date templates to use with the current demo data.

## Making Changes

Any changes should be made by branching from the `main` branch, making the changes within the new branch, and then submitting a pull request to the `main` branch for review. The `demo_data` branch is automated and should not be manually changed or altered.

There are only 3 types of changes that should be made to the `main` branch:

- Changes to the "lists/template_list.json" file to add or remove policy templates to generate demo data/templates for.
- Changes to the scripts in the "scripts" directory to fix bugs or improve the automation process.
- Changes to various Github workflows and dot files to fix bugs or make improvements.

## Automation

Github Workflow is used to automate the generation of everything with the following scripts:

- *generate_template_schema.py* - Scrapes the policy templates listed in "lists/template_list.json" and generates JSON files in the "generated_data/template_schema" directory containing important information about each policy template.
- *generate_incident_tables.py* - Generates fictional incident data and stores it in the "generated_data/fake_incident_tables" directory. Each incident for a policy template is numerically named.
  - For example, "aws_rightsize_ebs_volumes_1.json" and "aws_rightsize_ebs_volumes_2.json" would correspond to the first and second incidents raised by that policy template respectively.
- *generate_fake_templates.py* - Generates simple demo policy templates that do nothing more than grab the incident tables generated by the above script and then raise them as an incident. This produces a result that superficially mirrors the real policy template.

Every week, the `demo_data` branch is freshly cloned from the `main` branch and then the above scripts are executed to generate new data. This keeps the data fresh and ensures any changes made to the scripts or the "lists/template_list.json" file are incorporated.
